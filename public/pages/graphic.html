<div ng-controller="GraphicController as graphic">
    <div ng-hide="graphic.showDatasets"
         layout="row"
         layout-align="center center">
        <md-button md-no-ink
                   class="md-primary"
                   ng-click="graphic.selectDatasets()">Порівняти набори даних
        </md-button>
    </div>
    <div ng-show="graphic.showDatasets"
         layout="row"
         layout-align="center center">
        <h2 ng-show="!graphic.datasets.length">Оберіть набори для порівняння</h2>
        <div ng-repeat="ds in graphic.datasets">
            <h3>{{ds.name}}</h3>

            <md-input-container>
                <label>Колонки для порівняння по осі X</label>
                <md-select ng-model="ds.selectedX"
                           data-md-container-class="selectdemoSelectHeader"
                           ng-change="graphic.selectedthings()"
                           multiple>
                    <md-optgroup label="Колонки">
                        <md-option ng-value="field.id"
                                   ng-repeat="field in ds.fields">{{field.id}}
                        </md-option>
                    </md-optgroup>
                </md-select>
            </md-input-container>
            <br>
            <md-input-container>
                <label>Колонки для порівняння по осі Y</label>
                <md-select ng-model="ds.selectedY"
                           data-md-container-class="selectdemoSelectHeader"
                           ng-change="graphic.selectedthings()"
                           multiple>
                    <md-optgroup label="Колонки">
                        <md-option ng-value="field.id"
                                   ng-repeat="field in ds.fields">{{field.id}}
                        </md-option>
                    </md-optgroup>
                </md-select>
            </md-input-container>
            <br>
        </div>
        <md-button ng-show="graphic.datasets.length"
                   md-no-ink
                   class="md-primary"
                   ng-click="graphic.displayChart(ds.id)">Візуалізувати
        </md-button>


    </div>

    <div ng-show="graphic.showGraph">
        <highchart id="chart" config="graphic.chartConfig" style=" height:100%;"></highchart>
        <select ng-model="graphic.selected" ng-options="option.text for option in graphic.options" ng-change="graphic.changeChartSettings()"></select>
    </div>
</div>